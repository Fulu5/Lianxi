# C# 初探

## 1. 名词缩写
* `MFC` - Microsoft Foundation Classes - 微软基础类库
* `COM` - Component Object Model - 组件对象模型
* `CLR` - Common Language Runtime - 公共语言运行库
* `BCL` - Basic Class Library - 基类库
* `FCL` - Framwork Class Library - 框架类库
* 
* `CIL` - Common Intermediate Language - 公共中间语言
* * `IL` - Intermediate Language
* * `MSIL` - Microsoft Intermediate Language
* 
*  `CLI` - Common Language Infrastructure - 公共语言基础结构
* * 公共语言运行库(CLR)
* * 公共语言规范(`CLS`)
* * 基类库(BCL)
* * 元数据及定义
* * 公共类型系统(`CTS`)
* * 公共中间语言(CIL)指令组
* `CTS` - Common Type System - 公共类型系统
* `CLS` - Common Language Specification - 公共语言规范
* 
* 程序集
* * CIL - 公共中间语言
* * IL
* * MSIL
* 公共语言运行库(CLR)
* * GC - 垃圾收集
* * JIT - 实时编译器
* * BCL - 基类库
* 公共语言基础结构(CLI)
* * CTS - 公共类型系统
* * CLS - 公共语言规范
*
* `Ecma` - European Computer Manufacturers Association - 欧洲计算机制造商协会

## 2. 概述
### 2.1 标识符、关键字
* 标识符(用来命名变量、方法、参数等)区分大小写
### 2.2 语句、块
* 简单语句以封号结束
* 块{}，相当于一条语句
### 2.3 输出文本
* Console.Write - 不换行
* Console.WriteLine - 换行
### 2.4 格式字符串
* 替代标记从`0`开始编号
* 标记不能引用替换值列表以外的值，会产生运行时错误(异常)。

## 3. 类型、存储、变量
* C# 程序是一组类型声明
### 3.1 预定义类型
* C# 提供`16`种预定义类型，包括`13`种简单类型和`3`种非简单类型
- 简单类型有`3`种
    1. 11种数值类型
        - 不同长度的有符号和无符号`整数`类型
            - 8位：sbyte、byte
            - 16位：short、ushort
            - 32位：int、uint
            - 64位：long、ulong
        - `浮点`类型`float`和`double`
        - 高精度小数类型`decimal`，可以准确表示分数，常用于货币计算
    2. `char` - Unicode字符类型
    3. `bool`类型
- 非简单类型有`3`种
    1. `string` - Unicode字符数组
    2. `object` - 所有其它类型的基类
    3. `dynamic`
### 3.2 预定义类型补充
| **名称** | **含义**                   | **.NET框架类型** |
|----------|----------------------------|------------------|
| sbyte    | 8位有符号整数              | System\.SByte    |
| byte     | 8位无符号整数              | System\.Byte     |
| short    | 16位有符号整数             | System\.Int16    |
| ushort   | 16位无符号整数             | System\.UInt16   |
| int      | 32位有符号整数             | System\.Int32    |
| uint     | 32位无符号整数             | System\.UInt32   |
| long     | 64位有符号整数             | System\.Int64    |
| ulong    | 64位无符号整数             | System\.UInt64   |
| float    | 单精度浮点数               | System\.Single   |
| double   | 双精度浮点数               | System\.Double   |
| bool     | 布尔型                     | System\.Boolean  |
| char     | Unicode字符串              | System\.Char     |
| decimal  | 小数类型，有效数字精度28位 | System\.Decimal  |
### 3.3 堆、栈
* 栈是一个`内存数组`，`LIFO`(last-in-first-out，后进先出)，可以存储：
    1. 某些类型变量的值
    2. 程序当前的执行环境
    3. 传递给方法的参数
* 堆是一块`内存区域`
* 系统接管所有的栈操作、堆依靠CLR自动清除无主的堆对象
### 3.4 值类型、引用类型
* 值类型 - 存储在栈中
* 引用类型 - 引用存储在栈里，数据存储在堆里

## 4. 类：基础
* 类是一种活动的数据结构
* 类的所有`字段`都存储在`堆`中
* 访问修饰符
    - `private` - 私有的 - 只能在类内部访问，属于默认访问级别
    - `public` - 公有的
    - `protected` - 受保护的
    - `internal` - 内部的
    - `protected internal` - 受保护内部的

## 5. 方法
* C# 不能在第一个名称的有效范围内声明另外一个同名的本地变量
* `return;` - 这种形式的返回语句只能用在声明为`void`类型的方法
### 5.1 参数 
* 值参数 - 复制实参到形参把数据传递到方法。方法被调用时，系统做如下操作：
    - 在栈中为形参分配控件
    - 复制实参到形参
* 引用参数 - 方法声明和调用中都使用`ref`修饰符
* 输出参数 - 把数据`传出`到调用代码
* 参数数组
    - 一个参数列表中只能有一个参数数组
    - 如果有，必须是最后一个
    - 使用`params`修饰符
### 5.2 方法重载 
* 使用相同名称的每个方法必须有一个和其他方法不同的`签名`，签名由下列信息组成：
    - 方法名
    - 参数数量
    - 参数数据类型、顺序
    - 参数修饰符
    - 注意：返回类型、形参名称都不是签名的一部分
### 5.3 命名参数 
* C#4.0开始，可以显示指定参数名字，这样就可以不用考虑参数顺序
### 5.4 可选参数
* 为参数提供默认值，方法调用时可以不用传递这个参数
    - 默认值为`null`的引用类型可以作为可选参数
    - 参数顺序：必选参数，可选参数，params参数
    - 必须从可选参数列表的最后开始省略
    - 使用`命名参数`可以不从可选参数列表的最后开始省略
### 5.5 栈帧 
* 内存分配用于保存方法关联的数据项，这块内存叫做方法的栈帧(`stack frame`)
* 栈帧保存下列内容：
    - 返回地址(方法退出时继续执行的位置)
    - 参数分配的内存
    - 方法调用相关的其他管理数据项
### 5.6 递归
* 方法调用自身，叫做递归
## 6. 类进阶
### 6.1 成员
* 类成员的类型：

| 数据成员\(保存数据\) | 函数成员\(执行代码\) |        |
|----------------------|----------------------|--------|
| 字段                 | 方法                 | 运算符 |
| 常量                 | 属性                 | 索引   |
|                      | 构造函数             | 事件   |
|                      | 析构函数             |        |
* 成员修饰符顺序：
    - [特性] [修饰符] 核心声明
### 6.2 实例成员
* 类的每个实例拥有类成员的复制
### 6.3 静态字段
* 静态字段被类的所有实例共享
* 使用`static`修饰符声明一个字段为静态
### 6.4 静态函数成员
* 静态函数成员不能访问实例成员，能访问其他静态成员
### 6.5 成员常量

